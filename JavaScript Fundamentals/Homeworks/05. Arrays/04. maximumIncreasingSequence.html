<html>

<head>
	<title>Data types and variables - Integer types</title>
	<link href="styles/js-console.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
</head>

<body>
    <h1> 
        Write a script that finds the maximal increasing sequence in an numbers. 
        Example: {3, 2, 3, 4, 2, 2, 4}  {2, 3, 4}.
    </h1>

     <div>
        <label for = "sequence">Input sequence of numbers(separated by ','):</label>
        <input type = "text" id = "sequence"> 
        <button onclick="findSequence(document.getElementById('sequence').value)">Find</button>   
    </div>


	<div id="js-console"></div>				 
	<script src="scripts/js-console.js"></script>
	<script>
		// Task4 : Write a script that finds the maximal increasing sequence in an numbers. Example: {3, 2, 3, 4, 2, 2, 4}  {2, 3, 4}.
    
        function findSequence(sequence) {
            var numbers = sequence.split(","),
                count = 1,
                maxcount = 0,
                mostFrequent = numbers[0],
                current;

            for (var i = 1; i < numbers.length; i++) {
                if (numbers[i - 1] == (numbers[i]-1)) {
                    count++;              
                } else {
                    if (count > maxcount) {
                        maxcount = count;
                        mostFrequent = numbers[i - 1];
                    }
                    count = 1;
                }
            }

            if (count > maxcount) {
                maxcount = count;
                mostFrequent = numbers[numbers.length - 1];
            }

            for (i = 0; i < maxcount; i++)
            {
                current = mostFrequent-maxcount+i+1;
                jsConsole.writeLine(current);
            }
        }
	</script>
</body>

</html>
