<html>

<head>
	<title>Data types and variables - Integer types</title>
	<link href="styles/js-console.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="styles/styles.css">
</head>

<body>
    <h1> 
        Write a program that finds the index of given element in a sorted numbers of integers by using the binary search algorithm (find it in Wikipedia).
    </h1>

     <div>
        <label for = "sequence">Input sequence of numbers(separated by ','):</label>
        <input type = "text" id = "sequence"> 
        <label for = "number">Input the searched number:</label>
        <input type = "text" id = "number"> 
        <button onclick="findNumber(document.getElementById('sequence').value, document.getElementById('number').value)">Find</button>   
    </div>


	<div id="js-console"></div>				 
	<script src="scripts/js-console.js"></script>
	<script>
		// Task7 : Write a program that finds the index of given element in a sorted numbers of integers by using the binary search algorithm (find it in Wikipedia).
  
        function findNumber(sequence, element) {
            var numbers = sequence.split(",");

            numbers.sort();

            if (binarySearch(numbers, element, 0, numbers.length)!== -1) {
                jsConsole.writeLine('The index into the sorted numbers of ' + element + ' is ' + binarySearch(numbers, element, 0, numbers.length));  
            }
            else {
                jsConsole.writeLine('No such element in the numbers');
            }
        }

        function binarySearch(arr, key, imin, imax)
        {
            if (imax >= imin) {
                var imid = (imin + imax) / 2 | 0;

                if (parseFloat(arr[imid]) > parseFloat(key)) {
                    return binarySearch(arr, key, imin, imid - 1);
                } else if (parseFloat(arr[imid]) < parseFloat(key)) {
                    return binarySearch(arr, key, imid + 1, imax);
                } else {
                   return imid;
                }                  
            }
            else {
                return -1;
            }
        }
	</script>
</body>

</html>
